--- 
title: "Учебник по языку R для начинающих"
author: "Борис Демешев"
date: "`r Sys.Date()`"
lang: ru-RU
otherlangs: en-GB
fontsize: 11pt
site: bookdown::bookdown_site
output: bookdown::gitbook
documentclass: book
bibliography: [book.bib, packages.bib]
biblio-style: alphabetic
mainfont: "Linux Libertine O"
sansfont: "Linux Libertine O"
monofont: "Linux Libertine O"
link-citations: yes
github-repo: bdemeshev/r_manual_book
description: "Учебник по языку R и не только :)"
output:
  bookdown::gitbook:
    css: style.css
    config:
      toc:
        collapse: section
        scroll_highlight: true
        before: |
          <li><a href="./">Учебник по языку R для начинающих</a></li>
        after: |
          <li><a href="https://github.com/rstudio/bookdown"   target="blank">Создано с использованием пакета bookdown</a></li>
      edit:
        link: https://github.com/bdemeshev/r_manual_book/issues
      toolbar:
        position: fixed
      download: null
      search: true
      fontsettings:
        theme: white
        family: sans
        size: 2
      sharing:
        facebook: yes
        twitter: no
        google: no
        weibo: no
        instapper: no
        vk: yes
        all: ['facebook', 'google', 'twitter', 'weibo', 'instapaper',   'vk']
  bookdown::pdf_book:
    keep_tex: true
    includes:
      in_header: preamble.tex
    latex_engine: xelatex
    citation_package: biblatex
  pdf_document:
    keep_tex: yes
    includes:
      in_header: preamble.tex
    latex_engine: xelatex
    citation_package: biblatex
  bookdown::epub_book: default
---

# О книге {-}

Сейчас живут три кита анализа данных и научных вычислений --- Julia, Python и R. Эта книга про одного из китов!


```{r "knitr options"}
library("knitr")
library("tikzDevice")

# tikz plots options
options(tikzDefaultEngine = "xetex")
options(tikzMetricsDictionary = "./tikz_metrics") # cash font metrics for speed

add_xelatex <- c("\\defaultfontfeatures{Ligatures=TeX,Scale=MatchLowercase}",
"\\setmainfont{Linux Libertine O}",
"\\setmonofont{Linux Libertine O}",
"\\setsansfont{Linux Libertine O}",
"\\newfontfamily{\\cyrillicfonttt}{Linux Libertine O}",
"\\newfontfamily{\\cyrillicfont}{Linux Libertine O}",
"\\newfontfamily{\\cyrillicfontsf}{Linux Libertine O}")

options(tikzXelatexPackages = c(getOption("tikzXelatexPackages"),
    add_xelatex))

# does remove warnings:
options(tikzUnicodeMetricPackages = c(     "\\usetikzlibrary{calc}",         
"\\usepackage{fontspec,xunicode}",
    add_xelatex)) 


opts_chunk$set(dev = "tikz", 
               dev.args = list(pointsize = 11))

```


Тест 1:
```{r}
library("ggplot2") # вперёд
the_x_string <- "Ось абсцисс, $\\sqrt{x}$"
Encoding(the_x_string)
qplot(rnorm(100)) + xlab(the_x_string)
```



Тест 2:
```{r include = FALSE}
tikz("histo_file.tikz", standAlone = FALSE, bareBones = TRUE)
qplot(rnorm(100), xlab = "Привет! $\\sqrt{56}$")
dev.off()
```







